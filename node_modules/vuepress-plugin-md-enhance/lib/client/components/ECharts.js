import{wait as l,decodeData as p,LoadingIcon as u}from"@vuepress/helper/client";import{useEventListener as d,useDebounceFn as h}from"@vueuse/core";import{defineComponent as f,ref as m,shallowRef as _,onMounted as g,onUnmounted as v,h as r}from"vue";import"../styles/echarts.scss";import{u as y}from"../echarts-wWyG_jRB.js";const C=(async()=>{}).constructor,w=(t,i,o)=>i==="js"?C("myChart",`let width,height,option,__echarts_config__;
{
${t}
__echarts_config__={width,height,option};
}
return __echarts_config__;
`)(o):Promise.resolve({option:JSON.parse(t)});var E=f({name:"ECharts",props:{config:{type:String,required:!0},id:{type:String,required:!0},title:{type:String,default:""},type:{type:String,default:"json"}},setup(t){const i=y(),o=m(!0),n=_();let e=null;return d("resize",h(()=>{e?.resize()},100)),g(()=>{Promise.all([import("echarts"),l(MARKDOWN_ENHANCE_DELAY)]).then(async([s])=>{await i.setup?.(),e=s.init(n.value);const{option:a,...c}=await w(p(t.config),t.type,e);e.resize(c),e.setOption({...i.option,...a}),o.value=!1})}),v(()=>{e?.dispose()}),()=>[t.title?r("div",{class:"echarts-title"},decodeURIComponent(t.title)):null,r("div",{class:"echarts-wrapper"},[r("div",{ref:n,class:"echarts-container",id:t.id}),o.value?r(u,{class:"echarts-loading",height:360}):null])]}});export{E as default};
//# sourceMappingURL=ECharts.js.map
