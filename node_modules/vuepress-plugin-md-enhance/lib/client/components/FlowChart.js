import{wait as s,decodeData as p,LoadingIcon as c}from"@vuepress/helper/client";import{useEventListener as f,useDebounceFn as m}from"@vueuse/core";import{defineComponent as w,shallowRef as v,ref as i,computed as h,onMounted as g,onUnmounted as y,h as d}from"vue";import"../styles/flowchart.scss";import{f as C}from"../index-D5Lp0y24.js";var D=w({name:"FlowChart",props:{code:{type:String,required:!0},id:{type:String,required:!0},preset:{type:String,default:"vue"}},setup(r){let o=null;const u=v(),a=i(!0),t=i(1),l=h(()=>C[r.preset]),n=e=>e<419?.8:e>1280?1:.9;return g(()=>{Promise.all([import("flowchart.ts"),s(MARKDOWN_ENHANCE_DELAY)]).then(([{parse:e}])=>{o=e(p(r.code)),t.value=n(window.innerWidth),a.value=!1,o.draw(r.id,{...l.value,scale:t.value})}),f("resize",m(()=>{if(o){const e=n(window.innerWidth);t.value!==e&&(t.value=e,o.draw(r.id,{...l.value,scale:e}))}},100))}),y(()=>{o?.clean(),o=null}),()=>[a.value?d(c,{class:"flowchart-loading",height:192}):null,d("div",{ref:u,class:["flowchart-wrapper",r.preset],id:r.id,style:{display:a.value?"none":"block"}})]}});export{D as default};
//# sourceMappingURL=FlowChart.js.map
